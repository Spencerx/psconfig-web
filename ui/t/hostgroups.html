<sca-menutab menu="serverconf.menu" active="'hostgroups'"></sca-menutab>
<div class="container-fluid">
    <div class="panel panel-default" ng-repeat="(service_id, service) in serverconf.service_types">
        <div class="panel-heading">
            {{service.label}}
            <!--<button class="btn btn-xs" ng-click="create(service_id)">Add New Host Group</button>-->
        </div>

        <ul class="list-group">
            <li class="list-group-item" 
                ng-repeat="hostgroup in hostgroups | filter:{service_type:service_id}">
                <!--<h4><small>{{hostgroup.id}}</small> {{hostgroup.desc}}</h4>-->
                <div class="row">
                    <div class="col-md-8">
                        <h4><small>{{hostgroup.id}}</small> {{hostgroup.desc}}</h4>
                        <!--<h5>Hosts</h5>-->
                        <mc-hosts serviceid="service_id" hosts="hostgroup.hosts"></mc-hosts>
                    </div>
                    <div class="col-md-4">
                        <h5>Admins<small> (who can edit)</small></h5>
                        <mc-admins admins="hostgroup.admins"></mc-admins>
                    </div>
                </div>
                <div class="pull-right edit_button" ng-if="hostgroup.canedit">
                    <button type="button" ng-click="edit(hostgroup)" class="btn btn-sm pull-right"><i class="fa fa-pencil-square-o"></i></button>
                </div>
            </li>
        </ul>
        <div class="panel-body" style="background-color: #fafafa;">
            <button class="btn btn-sm" ng-click="create(service_id)">Add New</button>
        </div>
    </div><!--panel-->
</div>

