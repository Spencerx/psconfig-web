<sca-menubar menu="menu.top" active="'meshconfig'" profile="profile"></sca-menubar>
<sca-menutab menu="menu.meshconfig" active="'testspecs'"></sca-menutab>
<div class="container-fluid">
    <form>
        <div class="form-group">
            <label for="desc">Name</label>
            <input type="text" class="form-control" id="desc" ng-model="testspec.desc" placeholder="Name for this testspec"></input>
        </div>
        <div class="form-group">
            <label for="desc">Service Type</label>
            <input type="text" class="form-control" id="type" disabled=disabled ng-model="testspec.service_type"></input>
        </div>
        <div ng-switch="testspec.service_type">
            <div ng-switch-when="test_service">
                test service form
                {{testspec.specs}}
            </div>
            <div ng-switch-when="bwctl">
                bandwidth service form
                {{testspec.specs}}
            </div>
            <div ng-switch-when="owamp">
                latency service form
                {{testspec.specs}}
            </div>
            <div ng-switch-when="traceroute">
                traceroute service form
                {{testspec.specs}}
            </div>
        </div> <!--ng-switch -->
        <div class="form-group">
            <label for="admins">Admins</label>
            <ui-select multiple ng-model="testspec.admins" ng-disabled="disabled" style="min-width: 300px;">
            <ui-select-match placeholder="Select admins in the list or search his name/age..."><b>{{$item.public.fullname}}</b> <span class="email">&lt;{{$item.public.email}}&gt;</span></ui-select-match>
            <ui-select-choices repeat="user in users">
              <div ng-bind-html="user.public.fullname | highlight: $select.search"></div>
              <small>
                email: {{user.public.email}}
              </small>
            </ui-select-choices>
            </ui-select>
        </div>
        <button type="button" class="btn btn-sm btn-danger pull-right" ng-if="submit_type == 'update'"
            confirmed-click="remove()" 
            ng-confirm-click="Are you sure you want to remove this test spec?">
            <i class="fa fa-times"></i> Remove
        </button>
        <button type="button" class="btn btn-primary" ng-click="update()" ng-if="submit_type == 'update'">Update</button>
        <button type="button" class="btn btn-primary" ng-click="create()" ng-if="submit_type == 'create'">create</button>
        <button type="cancel" class="btn" ng-click="cancel()">Cancel</button>
    </form>
</div>


